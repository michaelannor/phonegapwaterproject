<!DOCTYPE html>
<!--
Beginner Activity: (become acquainted with the technology)
Create a simple JQuery web page [done]
Create a JQuery web page that has a button, which when clicked displays a second page. Use a page transition other than the default slide motion [not done]
-->
<html>

<head>
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

<link rel="stylesheet" href="jquery.mobile-1.4.5/jquery.mobile-1.4.5.min.css">

<link rel="stylesheet" href="themes/mwcminiprojecttheme.min.css" />
<link rel="stylesheet" href="themes/jquery.mobile.icons.min.css" />

<script src="jquery-2.1.4.min.js"></script>
<script src="jquery.mobile-1.4.5/jquery.mobile-1.4.5.min.js"></script>


<script>
            function sendRequest(u){
                // Send request to server
                //u a url as a string
                //async is type of request
                var obj=$.ajax({url:u,async:false});
                //Convert the JSON string to object
                var result=$.parseJSON(obj.responseText);
                return result;	//return object

            }
            function add(){
//                alert();
                var fn = $("#fname").val();
                var ln = $("#lname").val();
//              alert(fn + " " + ln);

                var theUrl="http://cs.ashesi.edu.gh/class2016/michael-annor/mobileweb/phonegap/hello.php?cmd=1&firstname="+fn+"&lastname="+ln;
                var obj=sendRequest(theUrl);		//send request to the above url
                if(obj.result==1){					//check result

                }else{
                    //show error message
                    alert("error adding");//err
                }
            }
    function getPeople(){
                     var theUrl="http://cs.ashesi.edu.gh/class2016/michael-annor/mobileweb/phonegap/hello.php?cmd=2";
        var obj=sendRequest(theUrl);		//send request to the above url
                if(obj.result==1){					//check result
var msb;
                    var listString = "";

                    for (var i = 0; i < obj.people.length; i++){
                     listString += "<li>";
listString += obj.people[i].firstname;
                        listString += ": ";
                        listString += obj.people[i].lastname
                        listString += "</li>";
                    }
                         $("#reading-list").html(listString);


                }else{
                    //show error message
                    alert("error adding");//err
                }

    }


        </script>



</head>

<body>
<div data-role="page" id="pageone" data-theme="c">

<div data-role="header">
<h1>Water Reading App</h1><a href="#pageone" class="ui-btn-left ui-btn ui-btn-inline ui-mini ui-corner-all ui-btn-icon-left ui-icon-home">Home</a><a href="#" class="ui-btn-right ui-btn ui-btn-inline ui-mini ui-corner-all ui-btn-icon-right ui-icon-back" data-rel="back">Back</a><div data-role="navbar"><ul><li><a href="#pageone" data-icon="grid" data-transition="slideup">Add</a></li><li><a href="#pagetwo" data-icon="star" data-transition="slidedown" onclick="getPeople()">List</a></li><li><a href="#pagethree" data-icon="gear" data-transition="turn">Other</a></li></ul></div><!-- /navbar -->
</div>

<div role="main" class="ui-content">

<form method="post"> <div data-role="fieldcontain">
<label for="fname">Equipment ID:</label>
<input type="text" name="fname" id="fname"> <label for="lname">Reading:</label>
<input type="text" name="lname" id="lname">



</div>
<input type="submit" value="Add Entry" data-icon="plus" onclick="add()">

<form><fieldset data-role="controlgroup" data-iconpos="right"><legend>Select all that apply:</legend><input type="checkbox" name="checkbox-h-6a" id="checkbox-h-6a"><label for="checkbox-h-6a">One</label><input type="checkbox" name="checkbox-h-6b" id="checkbox-h-6b"><label for="checkbox-h-6b">Two</label><input type="checkbox" name="checkbox-h-6c" id="checkbox-h-6c"><label for="checkbox-h-6c">Three</label></fieldset></form>

<form><fieldset data-role="controlgroup"><legend>Again select the one that applies:</legend><input type="radio" name="radio-choice-v-2" id="radio-choice-v-2a" value="on" checked="checked"><label for="radio-choice-v-2a">One</label><input type="radio" name="radio-choice-v-2" id="radio-choice-v-2b" value="off"><label for="radio-choice-v-2b">Two</label><input type="radio" name="radio-choice-v-2" id="radio-choice-v-2c" value="other"><label for="radio-choice-v-2c">Three</label></fieldset></form>


</form>


<!--<a href="#pagetwo" data-role="button">Go To Other</a>-->

</div>


<div data-role="footer"> <h1>Made With Love in Berekuso</h1>
</div> </div>




<div data-role="page" id="pagetwo" data-theme="a">
<div data-role="header">
<h1>Water Reading App List</h1><a href="#pageone" class="ui-btn-left ui-btn ui-btn-inline ui-mini ui-corner-all ui-btn-icon-left ui-icon-home">Home</a><a href="#" class="ui-btn-right ui-btn ui-btn-inline ui-mini ui-corner-all ui-btn-icon-right ui-icon-back" data-rel="back">Back</a><div data-role="navbar"><ul><li><a href="#pageone" data-icon="grid" data-transition="slideup">Add</a></li><li><a href="#pagetwo" data-icon="star" data-transition="slidedown" onclick="getPeople()">List</a></li><li><a href="#pagethree" data-icon="gear" data-transition="turn">Other</a></li></ul></div><!-- /navbar -->
</div>
<div role="main" class="ui-content">


<ul id="reading-list" data-role="listview" data-filter="true">


</ul>

<!--    <a href="#pageone"data-role="button">Back To Home</a>-->

</div>


<div data-role="footer"> <h1>Made With Love in Berekuso</h1>
</div> </div>



<div data-role="page" id="pagethree" data-theme="c">

<div data-role="header">
<h1>Water Reading Details</h1><a href="#pageone" class="ui-btn-left ui-btn ui-btn-inline ui-mini ui-corner-all ui-btn-icon-left ui-icon-home">Home</a><a href="#" class="ui-btn-right ui-btn ui-btn-inline ui-mini ui-corner-all ui-btn-icon-right ui-icon-back" data-rel="back">Back</a><div data-role="navbar"><ul><li><a href="#pageone" data-icon="grid" data-transition="slideup">Add</a></li><li><a href="#pagetwo" data-icon="star" data-transition="slidedown" onclick="getPeople()">List</a></li><li><a href="#pagethree" data-icon="gear" data-transition="turn">Other</a></li></ul></div><!-- /navbar -->
</div>

<div role="main" class="ui-content">

<div data-role="collapsibleset" data-content-theme="a" data-iconpos="right" id="set"><div data-role="collapsible" id="set1" data-collapsed="true"><h3>Lawn Reading</h3><p>I'm the collapsible content.</p></div>
</div>
<div data-role="collapsibleset" data-content-theme="a" data-iconpos="right" id="set"><div data-role="collapsible" id="set1" data-collapsed="true"><h3>Courtyard Reading</h3><p>I'm the collapsible content.</p></div>
</div>
<div data-role="collapsibleset" data-content-theme="a" data-iconpos="right" id="set"><div data-role="collapsible" id="set1" data-collapsed="true"><h3>Pump Site</h3><p>I'm the collapsible content.</p></div>
</div>


<!--    <a href="#pagetwo" data-role="button">Go To Other</a>-->

</div>


<div data-role="footer"> <h1>Made With Love in Berekuso</h1>
</div> </div>



</body> </html>
